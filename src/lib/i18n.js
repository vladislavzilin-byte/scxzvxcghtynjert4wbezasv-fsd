
const LS_LANG='iz.lang.v7'
const dictionaries = {
  ru: {
    calendar: 'ÐšÐ°Ð»ÐµÐ½Ð´Ð°Ñ€ÑŒ',
    my: 'ÐœÐ¾Ð¸ Ð·Ð°Ð¿Ð¸ÑÐ¸',
    admin: 'ÐÐ´Ð¼Ð¸Ð½',
    name: 'Ð˜Ð¼Ñ',
    instagram: 'Instagram',
    email: 'Email (Ð¾Ð¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾)',
    phone: 'Ð¢ÐµÐ»ÐµÑ„Ð¾Ð½',
    phoneOrEmail: 'Ð¢ÐµÐ»ÐµÑ„Ð¾Ð½ Ð¸Ð»Ð¸ Email',
    password: 'ÐŸÐ°Ñ€Ð¾Ð»ÑŒ',
    login: 'Ð’Ñ…Ð¾Ð´',
    register: 'Ð ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ñ',
    logout: 'Ð’Ñ‹Ð¹Ñ‚Ð¸',
    signIn: 'Ð’Ð¾Ð¹Ñ‚Ð¸',
    signUp: 'Ð—Ð°Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒÑÑ',
    slotsFor: 'Ð¡Ð»Ð¾Ñ‚Ñ‹ Ð½Ð°',
    booked: 'â€” Ð·Ð°Ð½ÑÑ‚Ð¾',
    confirmTitle: name => `Ð—Ð°Ð¿Ñ€Ð¾Ñ Ð½Ð° Ð·Ð°Ð¿Ð¸ÑÑŒ Ðº ${name} Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½!`,
    confirmSubtitle: 'ÐžÐ¶Ð¸Ð´Ð°ÐµÑ‚ Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½Ð¸Ñ Ð°Ð´Ð¼Ð¸Ð½Ð¸ÑÑ‚Ñ€Ð°Ñ‚Ð¾Ñ€Ð°',
    ok: 'OK',
    myProfile: 'ÐœÐ¾Ð¹ Ð¿Ñ€Ð¾Ñ„Ð¸Ð»ÑŒ',
    myBookings: 'ÐœÐ¾Ð¸ Ð·Ð°Ð¿Ð¸ÑÐ¸',
    active: 'ÐÐºÑ‚Ð¸Ð²Ð½Ñ‹Ðµ',
    canceled: 'ÐžÑ‚Ð¼ÐµÐ½Ñ‘Ð½Ð½Ñ‹Ðµ',
    all: 'Ð’ÑÐµ',
    none: 'ÐÐµÑ‚ Ð·Ð°Ð¿Ð¸ÑÐµÐ¹',
    cancel: 'ÐžÑ‚Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ',
    cancelQ: 'ÐžÑ‚Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ð·Ð°Ð¿Ð¸ÑÑŒ?',
    cancelNote: 'Ð­Ñ‚Ð¾ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ Ð½ÐµÐ»ÑŒÐ·Ñ Ð¾Ñ‚Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ.',
    yesCancel: 'Ð”Ð°, Ð¾Ñ‚Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ',
    adminOnly: 'Ð”Ð¾ÑÑ‚ÑƒÐ¿ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð´Ð»Ñ Ð°Ð´Ð¼Ð¸Ð½Ð¸ÑÑ‚Ñ€Ð°Ñ‚Ð¾Ñ€Ð°',
    masterSettings: 'ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð¼Ð°ÑÑ‚ÐµÑ€Ð°',
    masterName: 'Ð˜Ð¼Ñ Ð¼Ð°ÑÑ‚ÐµÑ€Ð°',
    adminPhone: 'Ð¢ÐµÐ»ÐµÑ„Ð¾Ð½ Ð°Ð´Ð¼Ð¸Ð½Ð¸ÑÑ‚Ñ€Ð°Ñ‚Ð¾Ñ€Ð°',
    workStart: 'ÐÐ°Ñ‡Ð°Ð»Ð¾ Ñ€Ð°Ð±Ð¾Ñ‡ÐµÐ³Ð¾ Ð´Ð½Ñ',
    workEnd: 'ÐšÐ¾Ð½ÐµÑ† Ñ€Ð°Ð±Ð¾Ñ‡ÐµÐ³Ð¾ Ð´Ð½Ñ',
    slotMinutes: 'Ð”Ð»Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ ÑÐ»Ð¾Ñ‚Ð° (Ð¼Ð¸Ð½)',
    allBookings: 'Ð’ÑÐµ Ð·Ð°Ð¿Ð¸ÑÐ¸',
    refresh: 'ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ',
    export: 'Ð­ÐºÑÐ¿Ð¾Ñ€Ñ‚',
    searchPH: 'ÐŸÐ¾Ð¸ÑÐº Ð¿Ð¾ Ð¸Ð¼ÐµÐ½Ð¸, Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½Ñƒ Ð¸Ð»Ð¸ Instagram',
    status: 'Ð¡Ñ‚Ð°Ñ‚ÑƒÑ',
    date: 'Ð”Ð°Ñ‚Ð°',
    time: 'Ð’Ñ€ÐµÐ¼Ñ',
    client: 'ÐšÐ»Ð¸ÐµÐ½Ñ‚',
    stats: (t,a,c)=>`Ð’ÑÐµÐ³Ð¾: ${t} â€¢ ÐÐºÑ‚Ð¸Ð²Ð½Ñ‹Ñ…: ${a} â€¢ ÐžÑ‚Ð¼ÐµÐ½Ñ‘Ð½Ð½Ñ‹Ñ…: ${c}`,
    pending: 'ðŸŸ¡ ÐžÐ¶Ð¸Ð´Ð°ÐµÑ‚ Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½Ð¸Ñ',
    activeStatus: 'ðŸŸ¢ ÐŸÐ¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½Ð°',
    passed: 'âš« ÐŸÑ€Ð¾ÑˆÐ»Ð°',
    canceledByClient: 'âŒ ÐžÑ‚Ð¼ÐµÐ½ÐµÐ½Ð¾ ÐºÐ»Ð¸ÐµÐ½Ñ‚Ð¾Ð¼',
    canceledByAdmin: 'ðŸ”´ ÐžÑ‚Ð¼ÐµÐ½ÐµÐ½Ð¾ Ð°Ð´Ð¼Ð¸Ð½Ð¸ÑÑ‚Ñ€Ð°Ñ‚Ð¾Ñ€Ð¾Ð¼',
    confirmByAdmin: 'ÐŸÐ¾Ð´Ñ‚Ð²ÐµÑ€Ð´Ð¸Ñ‚ÑŒ',
    requiresLogin: 'Ð’Ð¾Ð¹Ð´Ð¸Ñ‚Ðµ Ð¸Ð»Ð¸ Ð·Ð°Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¸Ñ€ÑƒÐ¹Ñ‚ÐµÑÑŒ',
    slotTaken: 'Ð­Ñ‚Ð¾Ñ‚ ÑÐ»Ð¾Ñ‚ ÑƒÐ¶Ðµ Ð·Ð°Ð½ÑÑ‚',
    profileCounter: n => `Ð£ Ð²Ð°Ñ ${n} Ð°ÐºÑ‚Ð¸Ð²Ð½Ñ‹Ñ… Ð·Ð°Ð¿Ð¸ÑÑŒ(Ð¸)`,
    minutesRange: (a,b)=>`${a}â€“${b}`,
    awaiting: 'ÐžÐ¶Ð¸Ð´Ð°ÐµÑ‚ Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½Ð¸Ñ Ð°Ð´Ð¼Ð¸Ð½Ð¸ÑÑ‚Ñ€Ð°Ñ‚Ð¾Ñ€Ð¾Ð¼',
    refreshList: 'ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ',
    lang: 'Ð¯Ð·Ñ‹Ðº'
  },
  lt: {
    calendar: 'Kalendorius',
    my: 'Mano vizitai',
    admin: 'Admin',
    name: 'Vardas',
    instagram: 'Instagram',
    email: 'El. paÅ¡tas (pasirinktinai)',
    phone: 'Telefonas',
    phoneOrEmail: 'Telefonas arba El. paÅ¡tas',
    password: 'SlaptaÅ¾odis',
    login: 'Prisijungimas',
    register: 'Registracija',
    logout: 'Atsijungti',
    signIn: 'Prisijungti',
    signUp: 'Registruotis',
    slotsFor: 'Laikai',
    booked: 'â€” uÅ¾imta',
    confirmTitle: name => `UÅ¾klausa dÄ—l vizito pas ${name} iÅ¡siÅ³sta!`,
    confirmSubtitle: 'Laukiama administratoriaus patvirtinimo',
    ok: 'Gerai',
    myProfile: 'Mano profilis',
    myBookings: 'Mano vizitai',
    active: 'AktyvÅ«s',
    canceled: 'AtÅ¡aukti',
    all: 'Visi',
    none: 'NÄ—ra Ä¯raÅ¡Å³',
    cancel: 'AtÅ¡aukti',
    cancelQ: 'AtÅ¡aukti vizitÄ…?',
    cancelNote: 'Veiksmo atÅ¡aukti nebus galima.',
    yesCancel: 'Taip, atÅ¡aukti',
    adminOnly: 'Tik administratoriui',
    masterSettings: 'Meistro nustatymai',
    masterName: 'Meistro vardas',
    adminPhone: 'Administratoriaus telefonas',
    workStart: 'Darbo pradÅ¾ia',
    workEnd: 'Darbo pabaiga',
    slotMinutes: 'Laiko trukmÄ— (min)',
    allBookings: 'Visi vizitai',
    refresh: 'Atnaujinti',
    export: 'Eksportuoti',
    searchPH: 'PaieÅ¡ka pagal vardÄ…, telefonÄ… arba Instagram',
    status: 'BÅ«sena',
    date: 'Data',
    time: 'Laikas',
    client: 'Klientas',
    stats: (t,a,c)=>`IÅ¡ viso: ${t} â€¢ AktyviÅ³: ${a} â€¢ AtÅ¡auktÅ³: ${c}`,
    pending: 'ðŸŸ¡ Laukia patvirtinimo',
    activeStatus: 'ðŸŸ¢ Patvirtinta',
    passed: 'âš« Ä®vyko',
    canceledByClient: 'âŒ AtÅ¡aukta kliento',
    canceledByAdmin: 'ðŸ”´ AtÅ¡aukta administratoriaus',
    confirmByAdmin: 'Patvirtinti',
    requiresLogin: 'Prisijunkite arba uÅ¾siregistruokite',
    slotTaken: 'Å is laikas jau uÅ¾imtas',
    profileCounter: n => f'JÅ«s turite {n} aktyviÅ³ vizitÅ³' if False else `JÅ«s turite ${n} aktyviÅ³ vizitÅ³`,
    minutesRange: (a,b)=>`${a}â€“${b}`,
    awaiting: 'Laukiama administratoriaus patvirtinimo',
    refreshList: 'Atnaujinti',
    lang: 'Kalba'
  },
  en: {
    calendar: 'Calendar',
    my: 'My bookings',
    admin: 'Admin',
    name: 'Name',
    instagram: 'Instagram',
    email: 'Email (optional)',
    phone: 'Phone',
    phoneOrEmail: 'Phone or Email',
    password: 'Password',
    login: 'Login',
    register: 'Register',
    logout: 'Logout',
    signIn: 'Sign in',
    signUp: 'Sign up',
    slotsFor: 'Slots for',
    booked: 'â€” taken',
    confirmTitle: name => `Booking request to ${name} sent!`,
    confirmSubtitle: 'Awaiting admin confirmation',
    ok: 'OK',
    myProfile: 'My profile',
    myBookings: 'My bookings',
    active: 'Active',
    canceled: 'Canceled',
    all: 'All',
    none: 'No records',
    cancel: 'Cancel',
    cancelQ: 'Cancel this booking?',
    cancelNote: 'This action cannot be undone.',
    yesCancel: 'Yes, cancel',
    adminOnly: 'Admin only',
    masterSettings: 'Master settings',
    masterName: 'Master name',
    adminPhone: 'Admin phone',
    workStart: 'Workday start',
    workEnd: 'Workday end',
    slotMinutes: 'Slot length (min)',
    allBookings: 'All bookings',
    refresh: 'Refresh',
    export: 'Export',
    searchPH: 'Search by name, phone or Instagram',
    status: 'Status',
    date: 'Date',
    time: 'Time',
    client: 'Client',
    stats: (t,a,c)=>`Total: ${t} â€¢ Active: ${a} â€¢ Canceled: ${c}`,
    pending: 'ðŸŸ¡ Pending',
    activeStatus: 'ðŸŸ¢ Confirmed',
    passed: 'âš« Past',
    canceledByClient: 'âŒ Canceled by client',
    canceledByAdmin: 'ðŸ”´ Canceled by admin',
    confirmByAdmin: 'Confirm',
    requiresLogin: 'Please sign in or register',
    slotTaken: 'This slot is already taken',
    profileCounter: n => `You have ${n} active booking(s)`,
    minutesRange: (a,b)=>`${a}â€“${b}`,
    awaiting: 'Awaiting admin confirmation',
    refreshList: 'Refresh',
    lang: 'Language'
  }
}

export function getLang(){
  return localStorage.getItem(LS_LANG) || 'ru'
}
export function setLang(code){
  localStorage.setItem(LS_LANG, code)
  window.dispatchEvent(new CustomEvent('lang-change', { detail: { code } }))
}
export function t(key, ...args){
  const lang = getLang()
  const dict = dictionaries[lang] || dictionaries['ru']
  const v = dict[key]
  if(typeof v === 'function') return v(...args)
  return v ?? key
}
export const dictionariesList = ['lt','ru','en']
