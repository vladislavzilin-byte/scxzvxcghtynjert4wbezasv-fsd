import React from 'react'

import { getLang, setLang } from './storage'

export const dict = {
  ru: {
    brand: 'IZ Booking',
    nav_calendar: 'ÐšÐ°Ð»ÐµÐ½Ð´Ð°Ñ€ÑŒ',
    nav_my: 'ÐœÐ¾Ð¸ Ð·Ð°Ð¿Ð¸ÑÐ¸',
    nav_admin: 'ÐÐ´Ð¼Ð¸Ð½',
    login: 'Ð’Ñ…Ð¾Ð´',
    register: 'Ð ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ñ',
    name: 'Ð˜Ð¼Ñ',
    instagram: 'Instagram',
    email_opt: 'Email (Ð¾Ð¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾)',
    phone: 'Ð¢ÐµÐ»ÐµÑ„Ð¾Ð½',
    phone_or_email: 'Ð¢ÐµÐ»ÐµÑ„Ð¾Ð½ Ð¸Ð»Ð¸ Email',
    password: 'ÐŸÐ°Ñ€Ð¾Ð»ÑŒ',
    logout: 'Ð’Ñ‹Ð¹Ñ‚Ð¸',
    my_profile: 'ÐœÐ¾Ð¹ Ð¿Ñ€Ð¾Ñ„Ð¸Ð»ÑŒ',
    my_bookings: 'ÐœÐ¾Ð¸ Ð·Ð°Ð¿Ð¸ÑÐ¸',
    you_have_x_active: 'Ð£ Ð²Ð°Ñ {n} Ð°ÐºÑ‚Ð¸Ð²Ð½Ñ‹Ñ… Ð·Ð°Ð¿Ð¸ÑÑŒ(Ð¸)',
    all: 'Ð’ÑÐµ',
    active: 'ÐÐºÑ‚Ð¸Ð²Ð½Ñ‹Ðµ',
    canceled: 'ÐžÑ‚Ð¼ÐµÐ½Ñ‘Ð½Ð½Ñ‹Ðµ',
    pending: 'ÐžÐ¶Ð¸Ð´Ð°ÐµÑ‚ Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½Ð¸Ñ',
    approved: 'ÐŸÐ¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½Ð°',
    passed: 'ÐŸÑ€Ð¾ÑˆÐ»Ð°',
    canceled_by_client: 'ÐžÑ‚Ð¼ÐµÐ½ÐµÐ½Ð¾ ÐºÐ»Ð¸ÐµÐ½Ñ‚Ð¾Ð¼',
    canceled_by_admin: 'ÐžÑ‚Ð¼ÐµÐ½ÐµÐ½Ð¾ Ð°Ð´Ð¼Ð¸Ð½Ð¸ÑÑ‚Ñ€Ð°Ñ‚Ð¾Ñ€Ð¾Ð¼',
    cancel: 'ÐžÑ‚Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ',
    confirm_cancel: 'ÐžÑ‚Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ð·Ð°Ð¿Ð¸ÑÑŒ?',
    irreversible: 'Ð­Ñ‚Ð¾ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ Ð½ÐµÐ»ÑŒÐ·Ñ Ð¾Ñ‚Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ.',
    yes_cancel: 'Ð”Ð°, Ð¾Ñ‚Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ',
    back: 'ÐžÑ‚Ð¼ÐµÐ½Ð°',
    slots_for: 'Ð¡Ð»Ð¾Ñ‚Ñ‹ Ð½Ð°',
    already_booked: 'Ð­Ñ‚Ð¾Ñ‚ ÑÐ»Ð¾Ñ‚ ÑƒÐ¶Ðµ Ð·Ð°Ð½ÑÑ‚',
    login_or_register: 'Ð’Ð¾Ð¹Ð´Ð¸Ñ‚Ðµ Ð¸Ð»Ð¸ Ð·Ð°Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¸Ñ€ÑƒÐ¹Ñ‚ÐµÑÑŒ',
    confirmed_title: 'Ð—Ð°Ð¿Ð¸ÑÑŒ Ðº {master} Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½Ð°!',
    pending_title: 'Ð—Ð°ÑÐ²ÐºÐ° Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð°!',
    pending_caption: 'ÐžÐ¶Ð¸Ð´Ð°ÐµÑ‚ Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½Ð¸Ñ Ð°Ð´Ð¼Ð¸Ð½Ð¸ÑÑ‚Ñ€Ð°Ñ‚Ð¾Ñ€Ð°',
    ok: 'OK',
    admin_only: 'Ð”Ð¾ÑÑ‚ÑƒÐ¿ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð´Ð»Ñ Ð°Ð´Ð¼Ð¸Ð½Ð¸ÑÑ‚Ñ€Ð°Ñ‚Ð¾Ñ€Ð°',
    master_settings: 'ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð¼Ð°ÑÑ‚ÐµÑ€Ð°',
    master_name: 'Ð˜Ð¼Ñ Ð¼Ð°ÑÑ‚ÐµÑ€Ð°',
    admin_phone: 'Ð¢ÐµÐ»ÐµÑ„Ð¾Ð½ Ð°Ð´Ð¼Ð¸Ð½Ð¸ÑÑ‚Ñ€Ð°Ñ‚Ð¾Ñ€Ð°',
    day_start: 'ÐÐ°Ñ‡Ð°Ð»Ð¾ Ñ€Ð°Ð±Ð¾Ñ‡ÐµÐ³Ð¾ Ð´Ð½Ñ',
    day_end: 'ÐšÐ¾Ð½ÐµÑ† Ñ€Ð°Ð±Ð¾Ñ‡ÐµÐ³Ð¾ Ð´Ð½Ñ',
    slot_minutes: 'Ð”Ð»Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ ÑÐ»Ð¾Ñ‚Ð° (Ð¼Ð¸Ð½)',
    all_bookings: 'Ð’ÑÐµ Ð·Ð°Ð¿Ð¸ÑÐ¸',
    search_placeholder: 'ÐŸÐ¾Ð¸ÑÐº Ð¿Ð¾ Ð¸Ð¼ÐµÐ½Ð¸, Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½Ñƒ Ð¸Ð»Ð¸ Instagram',
    status: 'Ð¡Ñ‚Ð°Ñ‚ÑƒÑ',
    export: 'ðŸ“¤ Ð­ÐºÑÐ¿Ð¾Ñ€Ñ‚',
    refresh: 'ðŸ” ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ',
    approve: 'ÐŸÐ¾Ð´Ñ‚Ð²ÐµÑ€Ð´Ð¸Ñ‚ÑŒ',
    rejected: 'ÐžÑ‚ÐºÐ»Ð¾Ð½Ð¸Ñ‚ÑŒ',
    no_records: 'ÐÐµÑ‚ Ð·Ð°Ð¿Ð¸ÑÐµÐ¹',
    total: 'Ð’ÑÐµÐ³Ð¾',
    total_active: 'ÐÐºÑ‚Ð¸Ð²Ð½Ñ‹Ñ…',
    total_canceled: 'ÐžÑ‚Ð¼ÐµÐ½Ñ‘Ð½Ð½Ñ‹Ñ…',
    reserved_label: 'Ð—Ð°Ñ€ÐµÐ·ÐµÑ€Ð²Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¾',
    processing: 'â³ ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ°...',
    booked_success: 'Ð—Ð°Ð¿Ð¸ÑÑŒ ÑÐ¾Ð·Ð´Ð°Ð½Ð°!',
    wait_confirmation: 'Ð–Ð´Ð¸Ñ‚Ðµ Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½Ð¸Ñ Ð°Ð´Ð¼Ð¸Ð½Ð¸ÑÑ‚Ñ€Ð°Ñ‚Ð¾Ñ€Ð°.',
    details_in_my: 'ÐŸÐ¾Ð´Ñ€Ð¾Ð±Ð½Ð¾ÑÑ‚Ð¸ Ð² Ñ€Ð°Ð·Ð´ÐµÐ»Ðµ Â«ÐœÐ¾Ð¸ Ð·Ð°Ð¿Ð¸ÑÐ¸Â».',
    notif_approved: 'Ð’Ð°ÑˆÐ° Ð·Ð°Ð¿Ð¸ÑÑŒ Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½Ð°!',
    notif_canceled: 'Ð’Ð°ÑˆÐ° Ð·Ð°Ð¿Ð¸ÑÑŒ Ð¾Ñ‚Ð¼ÐµÐ½ÐµÐ½Ð° Ð°Ð´Ð¼Ð¸Ð½Ð¸ÑÑ‚Ñ€Ð°Ñ‚Ð¾Ñ€Ð¾Ð¼.',
    notif_ok: 'ÐŸÐ¾Ð½ÑÑ‚Ð½Ð¾',
    today: 'Ð¡ÐµÐ³Ð¾Ð´Ð½Ñ',
    this_week: 'Ð­Ñ‚Ð° Ð½ÐµÐ´ÐµÐ»Ñ',
    this_month: 'Ð­Ñ‚Ð¾Ñ‚ Ð¼ÐµÑÑÑ†',
    only_future: 'Ð¢Ð¾Ð»ÑŒÐºÐ¾ Ð±ÑƒÐ´ÑƒÑ‰Ð¸Ðµ',
  },
  lt: {
    brand: 'IZ Registracija',
    nav_calendar: 'Kalendorius',
    nav_my: 'Mano vizitai',
    nav_admin: 'Adminas',
    login: 'Prisijungti',
    register: 'Registruotis',
    name: 'Vardas',
    instagram: 'Instagram',
    email_opt: 'El. paÅ¡tas (nebÅ«tina)',
    phone: 'Telefonas',
    phone_or_email: 'Telefonas arba el. paÅ¡tas',
    password: 'SlaptaÅ¾odis',
    logout: 'Atsijungti',
    my_profile: 'Mano profilis',
    my_bookings: 'Mano vizitai',
    you_have_x_active: 'Turite {n} aktyviÅ³ vizitÅ³',
    all: 'Visi',
    active: 'AktyvÅ«s',
    canceled: 'AtÅ¡aukti',
    pending: 'Laukia patvirtinimo',
    approved: 'Patvirtinta',
    passed: 'Ä®vyko',
    canceled_by_client: 'AtÅ¡aukÄ— klientas',
    canceled_by_admin: 'AtÅ¡aukÄ— administratorius',
    cancel: 'AtÅ¡aukti',
    confirm_cancel: 'AtÅ¡aukti vizitÄ…?',
    irreversible: 'Veiksmo atÅ¡aukti neÄ¯manoma.',
    yes_cancel: 'Taip, atÅ¡aukti',
    back: 'Atgal',
    slots_for: 'Laikai',
    already_booked: 'Å is laikas uÅ¾imtas',
    login_or_register: 'Prisijunkite arba uÅ¾siregistruokite',
    confirmed_title: 'Vizitas pas {master} patvirtintas!',
    pending_title: 'UÅ¾klausa iÅ¡siÅ³sta!',
    pending_caption: 'Laukia administratoriaus patvirtinimo',
    ok: 'OK',
    admin_only: 'Tik administratoriui',
    master_settings: 'Meistro nustatymai',
    master_name: 'Meistro vardas',
    admin_phone: 'Administratoriaus telefonas',
    day_start: 'Darbo pradÅ¾ia',
    day_end: 'Darbo pabaiga',
    slot_minutes: 'Laiko tarpas (min)',
    all_bookings: 'Visi vizitai',
    search_placeholder: 'PaieÅ¡ka pagal vardÄ…, tel. ar Instagram',
    status: 'BÅ«sena',
    export: 'ðŸ“¤ Eksportas',
    refresh: 'ðŸ” Atnaujinti',
    approve: 'Patvirtinti',
    rejected: 'Atmesti',
    no_records: 'Ä®raÅ¡Å³ nÄ—ra',
    total: 'IÅ¡ viso',
    total_active: 'AktyviÅ³',
    total_canceled: 'AtÅ¡auktÅ³',
    reserved_label: 'Rezervuota',
    processing: 'â³ Apdorojama...',
    booked_success: 'Vizitas sukurtas!',
    wait_confirmation: 'Laukite administratoriaus patvirtinimo.',
    details_in_my: 'IÅ¡samiau skiltyje â€žMano vizitaiâ€œ.',
    notif_approved: 'JÅ«sÅ³ vizitas patvirtintas!',
    notif_canceled: 'JÅ«sÅ³ vizitas atÅ¡auktas administratoriaus.',
    notif_ok: 'Gerai',
    today: 'Å iandien',
    this_week: 'Å i savaitÄ—',
    this_month: 'Å is mÄ—nuo',
    only_future: 'Tik bÅ«simi',
  },
  en: {
    brand: 'IZ Booking',
    nav_calendar: 'Calendar',
    nav_my: 'My bookings',
    nav_admin: 'Admin',
    login: 'Login',
    register: 'Sign up',
    name: 'Name',
    instagram: 'Instagram',
    email_opt: 'Email (optional)',
    phone: 'Phone',
    phone_or_email: 'Phone or Email',
    password: 'Password',
    logout: 'Log out',
    my_profile: 'My profile',
    my_bookings: 'My bookings',
    you_have_x_active: 'You have {n} active booking(s)',
    all: 'All',
    active: 'Active',
    canceled: 'Canceled',
    pending: 'Pending approval',
    approved: 'Approved',
    passed: 'Completed',
    canceled_by_client: 'Canceled by client',
    canceled_by_admin: 'Canceled by admin',
    cancel: 'Cancel',
    confirm_cancel: 'Cancel booking?',
    irreversible: 'This action cannot be undone.',
    yes_cancel: 'Yes, cancel',
    back: 'Back',
    slots_for: 'Slots for',
    already_booked: 'This slot is already taken',
    login_or_register: 'Please log in or sign up',
    confirmed_title: 'Booking with {master} confirmed!',
    pending_title: 'Request sent!',
    pending_caption: 'Waiting for admin approval',
    ok: 'OK',
    admin_only: 'Admin only',
    master_settings: 'Master settings',
    master_name: 'Master name',
    admin_phone: 'Admin phone',
    day_start: 'Day start',
    day_end: 'Day end',
    slot_minutes: 'Slot minutes',
    all_bookings: 'All bookings',
    search_placeholder: 'Search by name, phone or Instagram',
    status: 'Status',
    export: 'ðŸ“¤ Export',
    refresh: 'ðŸ” Refresh',
    approve: 'Approve',
    rejected: 'Reject',
    no_records: 'No records',
    total: 'Total',
    total_active: 'Active',
    total_canceled: 'Canceled',
    reserved_label: 'Booked',
    processing: 'â³ Processing...',
    booked_success: 'Booking created!',
    wait_confirmation: 'Please wait for admin approval.',
    details_in_my: 'See details in â€œMy bookingsâ€.',
    notif_approved: 'Your booking was approved!',
    notif_canceled: 'Your booking was canceled by admin.',
    notif_ok: 'OK',
    today: 'Today',
    this_week: 'This week',
    this_month: 'This month',
    only_future: 'Only future',
  }
}

export function useI18n(){
  const [lang, setLangState] = React.useState(getLang())

  React.useEffect(()=>{
    const stored = getLang()
    if(stored!==lang) setLangState(stored)
  }, [])

  const t = React.useCallback((key, vars={})=>{
    const str = (dict[lang] && dict[lang][key]) || (dict['ru'][key] || key)
    return Object.keys(vars).reduce((s,k)=>s.replaceAll(`{${k}}`, vars[k]), str)
  }, [lang])

  const setLangUI = (l)=>{ setLang(l); setLangState(l) }

  return { lang, t, setLang: setLangUI }
}
